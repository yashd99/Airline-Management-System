{"version":3,"sources":["StateProvider.js","firebase.js","Header.js","Product.js","Home.js","Login.js","reducer.js","Subtotal.js","CheckoutProduct.js","Checkout.js","App.js","reportWebVitals.js","index.js"],"names":["StateContext","createContext","StateProvider","reducer","initialState","children","Provider","value","useReducer","useStateValue","useContext","auth","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","Header","basket","user","className","to","src","type","onClick","signOut","length","Product","id","title","image","price","rating","dispatch","Array","fill","map","_","i","alt","item","Home","Login","history","useHistory","useState","email","setEmail","password","setPassword","onChange","e","target","preventDefault","signInWithEmailAndPassword","then","push","catch","error","alert","message","createUserWithEmailAndPassword","console","log","getBasketTotal","reduce","amount","state","action","index","findIndex","basketItem","newBasket","splice","warn","Subtotal","renderText","decimalScale","displayType","thousandSeparator","prefix","CheckoutProduct","Checkout","App","useEffect","onAuthStateChanged","authUser","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fb6cd8e5.chunk.js","sourcesContent":["import React from 'react'\r\nimport { createContext, useContext, useReducer } from \"react\";\r\n\r\nexport const StateContext = createContext();\r\n\r\n// Wrap our app and provide the Data layer\r\nexport const StateProvider = ({ reducer, initialState, children }) => (\r\n  <StateContext.Provider value={useReducer(reducer, initialState)}>\r\n    {children}\r\n  </StateContext.Provider>\r\n);\r\n\r\n// Pull information from the data layer\r\nexport const useStateValue = () => useContext(StateContext);\r\n\r\n","// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nimport firebase from \"firebase\";\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyC-pc9IEmFHdkogtem7erCW49pgO8PlTGQ\",\r\n    authDomain: \"challenge-890c6.firebaseapp.com\",\r\n    databaseURL: \"https://challenge-890c6.firebaseio.com\",\r\n    projectId: \"challenge-890c6\",\r\n    storageBucket: \"challenge-890c6.appspot.com\",\r\n    messagingSenderId: \"651293240089\",\r\n    appId: \"1:651293240089:web:20d51908e694d2377f3388\",\r\n    measurementId: \"G-HJ92ZQ3SET\"\r\n  };\r\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\r\nconst db=firebaseApp.firestore();\r\nconst auth =firebase.auth();\r\nexport {db,auth};","import React from 'react'\r\nimport './Header.css'\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport ShoppingBasketIcon from '@material-ui/icons/ShoppingBasket';\r\nimport { Link } from \"react-router-dom\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport {auth} from \"./firebase\";\r\n\r\nexport default function Header() {\r\n    const [{ basket,user }, dispatch] = useStateValue();\r\n    const handleAuthentication =()=>{\r\n        if(user){\r\n            auth.signOut();\r\n        }\r\n\r\n    }\r\n    return (\r\n        <div className='header'>\r\n            <Link to=\"/\">\r\n            <img\r\n                className=\"header_logo\"\r\n                src=\"http://pngimg.com/uploads/amazon/amazon_PNG11.png\"/>\r\n            </Link>\r\n            \r\n            <div\r\n            className=\"header__search\">\r\n                <input\r\n                className=\"header__searchInput\"\r\n                type=\"text\"/>\r\n                <SearchIcon className=\"header__searchIcon\"/>\r\n            </div>\r\n            <div className=\"header__nav\">\r\n                <Link to={!user &&\"/login\"}>\r\n                <div onClick={handleAuthentication } className=\"header__option\">\r\n                    <span className=\"header__optionLineOne\">\r\n                        Hello Guest\r\n                    </span>\r\n                    <span className=\"header__optionLineTwo\">{user ?\"SIgn Out\":\"Sign In\"}\r\n                    </span>\r\n\r\n                </div>\r\n                </Link >\r\n                <div className=\"header__option\">\r\n                <span className=\"header__optionLineOne\">\r\n                        Return\r\n                    </span>\r\n                    <span className=\"header__optionLineTwo\">\r\n                        & Orders\r\n                    </span>\r\n\r\n                </div>\r\n                <div className=\"header__option\">\r\n                <span className=\"header__optionLineOne\">\r\n                        Your\r\n                    </span>\r\n                <span className=\"header__optionLineTwo\">\r\n                        Prime\r\n                    </span>\r\n\r\n                </div>\r\n                <Link to=\"/checkout\">\r\n                <div className=\"header__optionBasket\">\r\n                    <ShoppingBasketIcon/>\r\n    <span className=\"header__optionLineTwo header__basketcount\">{basket?.length}</span>\r\n                    </div>\r\n                </Link>\r\n               \r\n\r\n            </div>\r\n\r\n            \r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport \"./Product.css\";\r\nimport {useStateValue} from \"./StateProvider\";\r\n\r\nfunction Product({id, title, image, price, rating }) {\r\n    const [{ basket }, dispatch] = useStateValue();\r\n\r\n  const addToBasket = () => {\r\n    // dispatch the item into the data layer\r\n    dispatch({\r\n      type: \"ADD_TO_BASKET\",\r\n      item: {\r\n        id: id,\r\n        title: title,\r\n        image: image,\r\n        price: price,\r\n        rating: rating,\r\n      },\r\n    });\r\n  };\r\n    return (\r\n        <div className=\"product\">\r\n            <div className=\"product__info\">\r\n            <p>{title}</p>\r\n            <p className='product__price'>\r\n                <small>$</small>\r\n            <strong>{price}</strong>\r\n            </p>\r\n            <div className='product__rating'>\r\n                {Array(rating)\r\n                .fill()\r\n                .map(( _ , i) => (\r\n                    <p>⭐</p>\r\n                ))}\r\n                \r\n            </div>\r\n            </div>\r\n            <img src={image} alt=\" \" />\r\n            <button onClick={addToBasket}>Add to Basket</button>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Product\r\n","import React from 'react'\r\nimport \"./Home.css\"\r\nimport Product from './Product'\r\n\r\nfunction Home() {\r\n    return (\r\n        <div className=\"home\">\r\n            <div className=\"home__container\">\r\n        <img\r\n          className=\"home__image\"\r\n          src=\"https://images-eu.ssl-images-amazon.com/images/G/02/digital/video/merch2016/Hero/Covid19/Generic/GWBleedingHero_ENG_COVIDUPDATE__XSite_1500x600_PV_en-GB._CB428684220_.jpg\"\r\n          alt=\"\"\r\n        />\r\n        <div className=\"home__row\">\r\n          <Product\r\n            id=\"12321341\"\r\n            title=\"The Lean Startup: How Constant Innovation Creates Radically Successful Businesses Paperback\"\r\n            price={11.96}\r\n            rating={5}\r\n            image=\"https://images-na.ssl-images-amazon.com/images/I/51Zymoq7UnL._SX325_BO1,204,203,200_.jpg\"\r\n          />\r\n          <Product\r\n            id=\"49538094\"\r\n            title=\"Kenwood kMix Stand Mixer for Baking, Stylish Kitchen Mixer with K-beater, Dough Hook and Whisk, 5 Litre Glass Bowl\"\r\n            price={239.0}\r\n            rating={4}\r\n            image=\"https://images-na.ssl-images-amazon.com/images/I/81O%2BGNdkzKL._AC_SX450_.jpg\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"home__row\">\r\n          <Product\r\n            id=\"4903850\"\r\n            title=\"Samsung LC49RG90SSUXEN 49' Curved LED Gaming Monitor\"\r\n            price={199.99}\r\n            rating={3}\r\n            image=\"https://images-na.ssl-images-amazon.com/images/I/71Swqqe7XAL._AC_SX466_.jpg\"\r\n          />\r\n          <Product\r\n            id=\"23445930\"\r\n            title=\"Amazon Echo (3rd generation) | Smart speaker with Alexa, Charcoal Fabric\"\r\n            price={98.99}\r\n            rating={5}\r\n            image=\"https://media.very.co.uk/i/very/P6LTG_SQ1_0000000071_CHARCOAL_SLf?$300x400_retinamobilex2$\"\r\n          />\r\n          <Product\r\n            id=\"3254354345\"\r\n            title=\"New Apple iPad Pro (12.9-inch, Wi-Fi, 128GB) - Silver (4th Generation)\"\r\n            price={598.99}\r\n            rating={4}\r\n            image=\"https://images-na.ssl-images-amazon.com/images/I/816ctt5WV5L._AC_SX385_.jpg\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"home__row\">\r\n          <Product\r\n            id=\"90829332\"\r\n            title=\"Samsung LC49RG90SSUXEN 49' Curved LED Gaming Monitor - Super Ultra Wide Dual WQHD 5120 x 1440\"\r\n            price={1094.98}\r\n            rating={4}\r\n            image=\"https://images-na.ssl-images-amazon.com/images/I/6125mFrzr6L._AC_SX355_.jpg\"\r\n          />\r\n        </div>\r\n\r\n\r\n\r\n        </div>\r\n\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","import React,{useState} from 'react'\r\nimport './Login.css';\r\nimport { Link,useHistory } from \"react-router-dom\";\r\nimport {auth} from \"./firebase\";\r\n\r\nfunction Login() {\r\n    const history=useHistory();\r\n    const [email,setEmail]= useState('');\r\n    const [password,setPassword]= useState('');\r\n    const signIn= e =>{\r\n        e.preventDefault();\r\n        auth.signInWithEmailAndPassword(email,password)\r\n        .then(auth => {\r\n            history.push('/')\r\n        })\r\n        .catch(error => alert(error.message))\r\n\r\n\r\n    }\r\n    const register = e =>{\r\n        e.preventDefault();\r\n        auth.createUserWithEmailAndPassword(email,password)\r\n        .then((auth) => {\r\n            console.log(auth);\r\n            if(auth){\r\n                history.push('/')\r\n            }\r\n        })\r\n        .catch(error => alert(error.message))\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"login\">\r\n            <Link to=\"/\">    \r\n            <img className=\"login__logo\" \r\n            src='https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png'\r\n            />\r\n            </Link>\r\n            <div className=\"login__container\">\r\n                <h1>Sign-In</h1>\r\n                <form>\r\n                    <h5>E-mail</h5>\r\n                    <input type='text' value={email} onChange={e => setEmail(e.target.value)}></input>\r\n                    <h5>Password</h5>\r\n                    <input type='password' value={password} \r\n                    onChange={e => setPassword(e.target.value)}></input>\r\n                    <button className=\"login__signInButton\"\r\n                    onClick={signIn} type='submit'\r\n                    >\r\n                        Sign In</button>\r\n                </form>\r\n                <p>\r\n                    Signed In\r\n                </p>\r\n                <button onClick={register} className=\"login__registerButton\">Create your Amazon Account</button>\r\n            </div>\r\n \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","export const initialState = {\r\n    basket: [],\r\n    user:null\r\n  };\r\n  \r\n  // Selector\r\n  export const getBasketTotal = (basket) => \r\n    basket?.reduce((amount, item) => item.price + amount, 0);\r\n  \r\n  const reducer = (state, action) => {\r\n    console.log(action);\r\n    switch (action.type) {\r\n        case 'ADD_TO_BASKET':\r\n            return{\r\n                ...state,\r\n                basket: [...state.basket,action.item],\r\n            };\r\n\r\n            case \"REMOVE_FROM_BASKET\":\r\n              const index = state.basket.findIndex(\r\n                (basketItem) => basketItem.id === action.id\r\n              );\r\n              let newBasket = [...state.basket];\r\n        \r\n              if (index >= 0) {\r\n                newBasket.splice(index, 1);\r\n        \r\n              } else {\r\n                console.warn(\r\n                  `Cant remove product (id: ${action.id}) as its not in basket!`\r\n                )\r\n              }\r\n        \r\n              return {\r\n                ...state,\r\n                basket: newBasket\r\n              }\r\n        case \"SET_USER\":\r\n          return{\r\n            ...state,\r\n            user: action.user\r\n          }\r\n\r\n\r\n\r\n      default:\r\n        return state;\r\n    }\r\n  };\r\n  \r\n  export default reducer;","import React from 'react'\r\nimport \"./Subtotal.css\";\r\nimport CurrencyFormat from \"react-currency-format\";\r\nimport { useStateValue } from './StateProvider';\r\nimport { getBasketTotal } from './reducer';\r\n\r\nfunction Subtotal() {\r\n  const [{ basket }, dispatch] = useStateValue();\r\n    return (\r\n        <div className=\"subtotal\">\r\n          <CurrencyFormat\r\n        renderText={(value) => (\r\n          <>\r\n            <p>\r\n              {/* Part of the homework */}\r\n        Subtotal ({basket.length} items): <strong>{value}</strong>\r\n            </p>\r\n            <small className=\"subtotal__gift\">\r\n              <input type=\"checkbox\" /> This order contains a gift\r\n            </small>\r\n          </>\r\n        )}\r\n        decimalScale={2}\r\n        value={getBasketTotal(basket)} // Part of the homework\r\n        displayType={\"text\"}\r\n        thousandSeparator={true}\r\n        prefix={\"$\"}\r\n      />  \r\n      <button>Proceed to Checkout</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Subtotal\r\n","import React from 'react'\r\nimport './CheckoutProduct.css';\r\nimport {useStateValue} from \"./StateProvider\";\r\n\r\n\r\nfunction CheckoutProduct({id, image,title, price, rating}) {\r\n    const [{ basket },dispatch]=useStateValue();\r\n    const removeFromBasket=()=>{\r\n        dispatch({\r\n            type:'REMOVE_FROM_BASKET',\r\n            id:id,\r\n        })\r\n\r\n\r\n    }\r\n\r\n\r\n    return (\r\n        <div className='checkoutProduct'>\r\n            <img className='checkoutProduct__image' src={image}/>\r\n            \r\n            <div className='checkoutProduct__info'>\r\n                <p className='checkoutProduct__title'>\r\n                    {title}\r\n                </p>\r\n                <p className=\"checkoutProduct__price\">\r\n                    <small>$</small>\r\n                    <strong>{price}</strong>\r\n                </p>\r\n                <div className='checkoutProduct__rating'>\r\n                    {Array(rating)\r\n                    .fill()\r\n                    .map((_, i)=>(\r\n                        <p>⭐</p>\r\n                    ))\r\n                    }\r\n\r\n                </div>\r\n                <button onClick={removeFromBasket}>Remove from Basket</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CheckoutProduct\r\n","import React from 'react'\r\nimport \"./Checkout.css\";\r\nimport Subtotal from \"./Subtotal\";\r\nimport {useStateValue} from './StateProvider';\r\nimport CheckoutProduct from './CheckoutProduct';\r\n\r\nfunction Checkout() {\r\nconst [{ basket,user },dispatch] = useStateValue();\r\n\r\n    return (\r\n        <div className=\"checkout\">\r\n        <div className=\"checkout__left\">\r\n            <img\r\n            className=\"checkout__ad\"\r\n            src=\"https://images-na.ssl-images-amazon.com/images/G/02/UK_CCMP/TM/OCC_Amazon1._CB423492668.jpg\"\r\n            alt=\"\"/>\r\n\r\n            <div>\r\n        <h3>Hello,{user?.email}</h3>\r\n                <h2 className=\"checkout__title\">Your shopping Basket</h2>\r\n                {basket.map(item=>(\r\n                    <CheckoutProduct\r\n                    id={item.id}\r\n                    title={item.title}\r\n                    image={item.image}\r\n                    price={item.price}\r\n                    rating={item.rating}\r\n                    />\r\n                ))}\r\n\r\n            </div>\r\n        </div>\r\n        <div className=\"checkout__right\">\r\n            <Subtotal />\r\n            <h2>The subtotal will go here</h2>\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Checkout\r\n","import './App.css';\nimport Header from './Header';\nimport Home from './Home';\nimport Login from './Login';\nimport {BrowserRouter as Router,Route, Switch}\nfrom \"react-router-dom\";\nimport Checkout from \"./Checkout\";\nimport { useEffect } from \"react\";\nimport {auth} from \"./firebase\";\nimport {useStateValue} from \"./StateProvider\";\n\nfunction App() {\n  const [{},dispatch]=useStateValue();\n\n  useEffect(() =>{\n    auth.onAuthStateChanged(authUser  =>{\n      console.log('The use is',authUser);\n      if(authUser){\n        dispatch({\n          type:'SET_USER',\n          user:authUser\n\n        })\n      } else{\n        dispatch({\n          type:\"SET_USER\",\n          user:null\n\n        })\n      }\n\n    })\n\n  }, [])\n  return (\n    <Router>\n    <div className=\"app\">\n    <Switch>\n      <Route path=\"/login\">\n        <Login/>\n\n      </Route>\n    <Route path=\"/checkout\">\n    <Header />\n     <Checkout />\n     </Route>\n     <Route path=\"/\">\n     <Header />\n     <Home/>\n     </Route>\n     \n     </Switch>\n    </div>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { StateProvider } from './StateProvider';\nimport reducer, {initialState} from \"./reducer\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <StateProvider initialState={initialState} reducer={reducer}>\n    <App />\n  </StateProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}